{% extends "base.html" %}

{% block title %}Create Challenge - CultureQuest{% endblock %}

{% block content %}
    <header class="challenge-header">
        <h1>Create a New Challenge</h1>
    </header>

    <div class="challenge-form-container">
        <div class="create-challenge-section">
            <form action="{{ url_for('challenge.create_challenge') }}" method="POST" enctype="multipart/form-data" class="create-challenge-form">
                {{ form.hidden_tag() }}

                <div class="form-group">
                    {{ form.challenge_name.label(class="form-label") }}
                    {{ form.challenge_name(class="form-input", placeholder="Enter the name of your challenge") }}
                    {% for error in form.challenge_name.errors %}
                        <div class="form-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    {{ form.description.label(class="form-label") }}
                    {{ form.description(class="form-textarea", placeholder="Describe your challenge in detail. What is it about? What will participants learn or experience?") }}
                    {% for error in form.description.errors %}
                        <div class="form-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    {{ form.completion_criteria.label(class="form-label") }}
                    {{ form.completion_criteria(class="form-textarea", placeholder="Explain how participants can show they have completed the challenge. What evidence or proof is needed?") }}
                    {% for error in form.completion_criteria.errors %}
                        <div class="form-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    {{ form.media.label(class="form-label") }}
                    {{ form.media(class="form-input") }}
                    <p style="font-size: 13px; color: #6b7280; margin-top: 4px;">Upload an image or video to help explain your challenge</p>
                    {% for error in form.media.errors %}
                        <div class="form-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group">
                    <button type="submit" class="form-button" style="width: 100%;" id="submit-btn">Submit Challenge</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add smooth form interactions
        const textareas = document.querySelectorAll('.form-textarea');
        textareas.forEach(textarea => {
            textarea.addEventListener('focus', function() {
                this.style.borderColor = '#6366f1';
                this.style.boxShadow = '0 0 0 3px rgba(99, 102, 241, 0.1)';
            });
            textarea.addEventListener('blur', function() {
                this.style.borderColor = '#d1d5db';
                this.style.boxShadow = 'none';
            });
        });

        // Add hover effect to submit button
        const submitBtn = document.getElementById('submit-btn');
        submitBtn.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-1px)';
        });
        submitBtn.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
</script>
{% endblock %}